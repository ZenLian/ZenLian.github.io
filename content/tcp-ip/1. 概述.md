---
title: "1. 概述"
date: 2019-08-22T22:17:03+08:00
---

实验室刚好有这本书，平时没事拿来随手翻一翻，有空的时候再写写读书笔记，希望能坚持吧。

## 引言

为了解决不同主机之间的通信问题，硬件上需要有连接不同计算机的技术，这就是物理层；而软件上需要定义一种通用的协议，其中 TCP/IP 协议就是应用最广泛的网络协议。

## 分层

OSI 有一个七层模型标准，但实际应用最多的是五层协议。


TCP/IP 协议从上到下可以分为应用层、运输层、网络层和数据链路层，其实最底层还有物理层，但严格来讲这不属于 TCP/IP 协议的一部分，TCP/IP 协议并不关心物理链路是如何建立的。


![](https://zenlian.github.io/2019/03/07/tcp-ip-volumn1-1/1-4.jpg#align=left&display=inline&height=574&margin=%5Bobject%20Object%5D&originHeight=574&originWidth=523&status=done&style=none&width=523)

## IP 地址

一台计算机的每个网络接口都具有一个 IP 地址，它是一个 32 位的二进制数。IP 地址分为 5 类：


![](https://zenlian.github.io/2019/03/07/tcp-ip-volumn1-1/1-5.jpg#align=left&display=inline&height=306&margin=%5Bobject%20Object%5D&originHeight=306&originWidth=500&status=done&style=none&width=500)


通过二进制表示法的前几位可以判断一个 IP 地址的类别，更简单的方法是通过点分十进制表示法的第一个十进制数：


![](https://zenlian.github.io/2019/03/07/tcp-ip-volumn1-1/1-6.jpg#align=left&display=inline&height=189&margin=%5Bobject%20Object%5D&originHeight=189&originWidth=276&status=done&style=none&width=276)


IP 地址的分配由互联网络信息中心 (InterNIC, Internet Network Information Center) 负责，它只分配网络号，主机号由系统管理员负责。现在 32 位的 IP 地址已经远远不够用，后面我们会看到对于 IP 地址耗尽的解决方案。

## DNS

IP 地址很难记，`github.com`这样的域名就好记多了。然而网络中实际通信用的都是 IP 地址，那么就需要一个域名到 IP 地址的转换机制。DNS 系统就提供了这样一个机制，它实际上是一个分布式的数据库系统。

## 端口号

网络中的通信实际上不同主机之间的应用程序进行通信，光有 IP 地址标识一台主机还不够，我们还需要一个 16 位的端口号来唯一标识主机中的一个应用程序。其中 1~1023 之间的端口号称为知名端口号，预留给 FTP、Telnet 等知名服务使用。并且对于相同的服务，TCP/UDP 一般使用同一个端口号。在系统文件`/etc/services`中你可以看到这些服务对应的端口号。

## RFC

RFC 定义了所有关于 Internet 的标准，其中包括我们将要学习的 TCP/IP 协议族。

## socket 接口

进行网络编程时，内核为应用程序提供了编程接口，应用程序只需要处理通信逻辑，而通信细节（也就是 TCP/IP 协议的处理）由内核完成。最常用的编程接口是`Berkley socket`，而`SystemV TLI`已经被淘汰了。

---

## References

1. 《TCP/IP 详解卷 1：协议》
